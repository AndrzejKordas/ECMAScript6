<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Untitled Document</title>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
</head>

<body>
<form>



<div class="container">
<h1 class="p2 my5 text-center">Pojemnik na dane - localStorage</h1>
<table width="100%" cellpadding="3" cellspacing="3">
<tr>
<td class="text-center"><input name="klucz" type="text" placeholder="klucz" id="klucz"></td>
<td class="text-center"><input name="wartosc" type="text" placeholder="wartosc" id="wartosc"></td>
<tr>
<tr>
<td colspan="2" class="text-center"><input class="but" type="button" id="but" value="Dodaj do magazynu lokalnego"><br></td>
</tr>
<tr><td id="kluczView" class="border border-secondary"></td>
<td id="warView" class="border border-secondary"></td>
</tr>
</table>
</div>
</form>
<script>
//////////////////////////////////////////////
//localStorage.setItem( "nazwisko", "Kordas" )

const warKlucz = [];
const war = [];
const ele1 =document.getElementById("kluczView");
const ele2 =document.getElementById("warView");

(function(){
for(var i = 0; i< localStorage.length; i++ ){
	var klucz = localStorage.key(i);
	warKlucz[i] = klucz;
	war[i] = localStorage.getItem(klucz);
	zapiszKlucze(i);
	}
	}());

function zapiszKlucze(x){
	var nod = document.createElement("li");
	var coAdd = document.createTextNode(warKlucz[x]);
	nod.appendChild(coAdd);
	ele1.appendChild(nod);
	}

function zapiszWar(v)
{
   	var nod2 = document.createElement("li");
	var coAdd2 = document.createTextNode(v);
	nod2.appendChild(coAdd2);
	ele2.appendChild(nod2);
}
var zapiszWartosci = war.map(zapiszWar);


/*******************************************
		Dodawanie rekordu
********************************************/

function dodaj(){
	var klucz = document.getElementById("klucz").value;
	var wartosc = document.getElementById("wartosc").value;
		if(klucz != "" || wartosc != ""  ){
			localStorage.setItem( klucz, wartosc );
			location.href = "removeItem.html"; 
		}else{ alert("niewprowadzono danych");}
	}

	
const ele = document.getElementById("but");
ele.addEventListener("click",dodaj,false);

///////////////////////////////////////////////////////
</script>
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
</body>
</html>
